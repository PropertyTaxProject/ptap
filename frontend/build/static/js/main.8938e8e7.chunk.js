(this.webpackJsonpptap_site=this.webpackJsonpptap_site||[]).push([[0],{208:function(e,t,a){e.exports=a(378)},210:function(e,t,a){},378:function(e,t,a){"use strict";a.r(t);a(209),a(210);var n=a(0),r=a.n(n),l=a(22),c=a.n(l),o=a(379),u=a(101),s=a(35),i=a(80),m=o.a.Header,p=function(){return r.a.createElement(m,null,r.a.createElement(i.a,{theme:"dark",mode:"horizontal"},r.a.createElement(i.a.Item,{key:"1"},r.a.createElement("a",{href:"/"},"Property Tax Appeal Project: Automated Appeal System"))))},f=a(380),d=a(41),E=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Welcome to the Property Tax Appeal Project's automated appeal system landing page."),r.a.createElement("p",null,"We currently have automated appeal systems for Detroit and Chicago."),r.a.createElement("p",null,"Click one of the buttons to get started with your appeal."),r.a.createElement(f.a,null,r.a.createElement(d.a,null,r.a.createElement(u.b,{to:"/detroit"},"Detroit")),r.a.createElement(d.a,null,r.a.createElement(u.b,{to:"/chicago"},"Chicago"))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var b=a(38),y=a(34),h=a.n(y),g=a(44),v=a(63),w=a(102),j=a.n(w),k=a(178),x=function(){var e=Object(g.a)(h.a.mark((function e(t){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.post("/api_v1/submit",t);case 3:return a=e.sent,console.log(a),e.abrupt("return",a.data.response);case 8:return e.prev=8,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(g.a)(h.a.mark((function e(t,a,n){var r,l,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=Object(v.a)({target_pin:t,comparables:a},n),console.log(r),l="detroit_single_family"===n.appeal_type,e.next=6,j.a.post("/api_v1/submit2",r,{responseType:l?"blob":"json"});case 6:c=e.sent,l?Object(k.saveAs)(c.data,"".concat(n.name.split(" ").join("-").toLowerCase(),"-appeal.docx")):console.log(c),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,a,n){return e.apply(this,arguments)}}(),P=a(92),C=a(54),_=a(383),A=a(387),I={labelCol:{span:24},wrapperCol:{xs:{span:24},sm:{span:20},md:{span:18},lg:{span:14}}},F={wrapperCol:{xs:{span:24,offset:0},sm:{span:24,offset:0}}},S=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(P.a,null,r.a.createElement(C.a,{xs:{span:24,offset:0},sm:{span:24,offset:0}},r.a.createElement("h1",null,"Homeowner Information"),r.a.createElement("br",null))),r.a.createElement(_.a.Item,{name:"name",label:"Full Name",rules:[{required:!0,message:"Please input your full name!",whitespace:!0}]},r.a.createElement(A.a,null)),r.a.createElement(_.a.Item,{name:"email",label:"Email",rules:[{required:!0,message:"Please input your Email!",whitespace:!0,type:"email"}]},r.a.createElement(A.a,null)),r.a.createElement(_.a.Item,{name:"address",label:"Street Address",rules:[{required:!0,message:"Please input your street address!",whitespace:!0}]},r.a.createElement(A.a,null)),r.a.createElement(_.a.Item,{name:"phone",label:"Phone Number",rules:[{required:!0,message:"Please input your phone number!",whitespace:!0}]},r.a.createElement(A.a,null)),r.a.createElement(_.a.Item,{name:"city",label:"City",rules:[{required:!0,message:"Please input your city!",whitespace:!0}]},r.a.createElement(A.a,null)),r.a.createElement(_.a.Item,{name:"state",label:"State",rules:[{required:!0,message:"Please input your State!",whitespace:!0}]},r.a.createElement(A.a,null)),r.a.createElement(_.a.Item,{name:"zip",label:"Zip Code",rules:[{required:!0,message:"Please input your zip code!",whitespace:!0}]},r.a.createElement(A.a,null)))},q=function(e){var t=_.a.useForm(),a=Object(b.a)(t,1)[0],n=e.submitForm,l=e.city,c=e.pin;return r.a.createElement(_.a,Object.assign({form:a,name:"Housing Information",onFinish:function(e){var t;"detroit"===l?t="detroit_single_family":"chicago"===l&&(t="cook_county_single_family");var a=Object(v.a)(Object(v.a)({},e),{},{pin:c,appeal_type:t});console.log("Received values of form: ",a),n(a)},labelAlign:"left",scrollToFirstError:!0,autoComplete:"off"},I),r.a.createElement(P.a,null,r.a.createElement(C.a,{xs:{span:24,offset:0},sm:{span:24,offset:0}},r.a.createElement("h1",null,"Property information form"),r.a.createElement("p",null,"Fill out this form and submit to see comparable value properties"),r.a.createElement("br",null))),r.a.createElement(_.a.Item,{noStyle:!0},r.a.createElement(S,null)),r.a.createElement(_.a.Item,F,r.a.createElement(f.a,null,r.a.createElement(d.a,{type:"danger",onClick:e.back},"Back"),r.a.createElement(d.a,{type:"primary",htmlType:"submit"},"Submit"))))},L=a(382),T=a(385),B=a(381),D=L.a.Column,N=/(\b[a-z](?!\s))/g,z=function(e){return e.replace("_"," ").replace(N,(function(e){return e.toUpperCase()}))},G=function(e){var t=e.comparables,a=e.headers,l=e.submitAppeal,c=e.removeComparable,o=e.back,u=t,s=Object(n.useState)(!1),i=Object(b.a)(s,2),m=i[0],p=i[1],E=a.map((function(e){return r.a.createElement(D,{title:z(e),dataIndex:e,key:e})})).sort(),y=u.map((function(e,t){return Object(v.a)({property:"Comparable ".concat(t)},e)}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(P.a,null,r.a.createElement(C.a,{xs:{span:24,offset:0},sm:{span:24,offset:0}},r.a.createElement("h1",null,"Select relevant comparables"),r.a.createElement("p",null,"Delete comparables you do not wish to include in your appeal."),r.a.createElement("br",null))),r.a.createElement(L.a,{dataSource:y,loading:m,scroll:{x:!0}},r.a.createElement(D,{title:"Property",dataIndex:"property",key:"property"}),E,r.a.createElement(D,{title:"Action",key:"action",render:function(e,t){return"Your Property"===t.property?null:r.a.createElement(d.a,{danger:!0,onClick:function(){p(!0),c(Number.parseInt(t.property.split(" ")[1],10)).then((function(){p(!1)}))}},"Delete")}})),r.a.createElement(f.a,null,r.a.createElement(d.a,{type:"danger",onClick:o},"Back"),r.a.createElement(d.a,{type:"primary",onClick:l},"Generate Appeal")))},R=function(e){var t=e.targetProperty,a=e.cols,n={width:"".concat(Math.round(100/a),"%"),textAlign:"center"},l=Object.entries(t).filter((function(e){var t=Object(b.a)(e,2),a=t[0],n=t[1];return""!==a&&""!==n}));return l.sort((function(e,t){var a=Object(b.a)(e,1)[0],n=Object(b.a)(t,1)[0],r=a.toLowerCase(),l=n.toLowerCase();return r>l?1:r<l?-1:0})),r.a.createElement(r.a.Fragment,null,r.a.createElement(P.a,null,r.a.createElement(C.a,{xs:{span:24,offset:0},sm:{span:24,offset:0}},r.a.createElement("h1",null,"Your Property"),r.a.createElement("p",null,"Below is the data that we have on file for your property."),r.a.createElement("br",null))),l.map((function(e){var t=Object(b.a)(e,2),a=t[0],l=t[1];return r.a.createElement(T.a.Grid,{hoverable:!1,style:n},r.a.createElement(P.a,null,r.a.createElement("b",null,z(a))),r.a.createElement(P.a,null,r.a.createElement("p",null,l)))})))},W=function(e){var t=e.comparables,a=e.headers,n=e.targetProperty,l=e.submitAppeal,c=e.removeComparable,o=e.back;return r.a.createElement(r.a.Fragment,null,r.a.createElement(R,{targetProperty:n,cols:5}),r.a.createElement(B.a,null),r.a.createElement(G,{comparables:t,headers:a,removeComparable:c,submitAppeal:l,back:o}))},H=function(){var e=Object(g.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log(t),e.next=4,j.a.post("/api_v1/pin-lookup",t);case 4:return e.abrupt("return",e.sent.data.response.candidates);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),J=function(e){var t,a=_.a.useForm(),l=Object(b.a)(a,1)[0],c=Object(n.useState)([]),o=Object(b.a)(c,2),u=o[0],s=o[1],i=e.logPin,m=e.city;"detroit"===m?t="detroit_single_family":"chicago"===m&&(t="cook_county_single_family");var p=[{title:"Address",dataIndex:"address",key:"address"},{title:"Pin",dataIndex:"parcel_num",key:"pin"},{title:"Action",key:"action",render:function(e,t){return r.a.createElement(d.a,{onClick:function(){i(t.parcel_num)}},"Select")}}];return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Pin Lookup"),r.a.createElement("p",null,"Let's begin by looking up your pin."),r.a.createElement("p",{style:{width:"350px"}},"Enter your street number and street name and select the correct property from the dropdown."),r.a.createElement(_.a,{form:l,name:"Pin Lookup",onFinish:function(){var e=Object(g.a)(h.a.mark((function e(a){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=s,e.next=3,H(Object(v.a)({appeal_type:t},a));case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),labelAlign:"left",scrollToFirstError:!0,autoComplete:"off"},r.a.createElement(A.a.Group,{compact:!0},r.a.createElement(_.a.Item,{style:{width:"100px"},name:"st_num",rules:[{required:!0,message:"Street name is required."}]},r.a.createElement(A.a,{type:"number",placeholder:"number"})),r.a.createElement(_.a.Item,{style:{width:"300px"},name:"st_name",rules:[{required:!0,message:"Street name is required."}]},r.a.createElement(A.a,{placeholder:"street"}))),r.a.createElement(d.a,{type:"primary",htmlType:"submit"},"Lookup Pin")),0!==u.length?r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),r.a.createElement(L.a,{columns:p,dataSource:u})):null)},M=function(){var e=Object(g.a)(h.a.mark((function e(t,a){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.filter((function(e,t){return t!==a})));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),U=function(e){var t=e.city,a=Object(n.useState)([]),l=Object(b.a)(a,2),c=l[0],o=l[1],u=Object(n.useState)([]),s=Object(b.a)(u,2),i=s[0],m=s[1],p=Object(n.useState)(null),f=Object(b.a)(p,2),d=f[0],E=f[1],y=Object(n.useState)({}),v=Object(b.a)(y,2),w=v[0],j=v[1],k=Object(n.useState)(null),P=Object(b.a)(k,2),C=P[0],_=P[1],A=r.a.createElement(J,{logPin:function(e){_(e)},city:t});return null!=C&&(A=r.a.createElement(q,{city:t,pin:C,submitForm:function(){var e=Object(g.a)(h.a.mark((function e(t){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(t);case 2:null!=(a=e.sent)&&(j(t),o(a.comparables),m(a.labeled_headers),E(a.target_pin[0]));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),back:function(){j({}),_(null),o([]),m([]),E(null)}})),null!=d&&(A=r.a.createElement(W,{comparables:c,headers:i,targetProperty:d,submitAppeal:Object(g.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O(d,c,w);case 1:case"end":return e.stop()}}),e)}))),removeComparable:function(){var e=Object(g.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=o,e.next=3,M(c,t);case 3:e.t1=e.sent,(0,e.t0)(e.t1),console.log("removed ".concat(t));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),back:function(){j({}),o([]),m([]),E(null)}})),A},Y=a(128),Z=a(129),$=a(133),K=a(130),Q=a(105),V=a(388),X=a(384),ee=a(386),te=a(389);function ae(e){return new Promise((function(t,a){var n=new FileReader;n.readAsDataURL(e),n.onload=function(){return t(n.result)},n.onerror=function(e){return a(e)}}))}r.a.Component;var ne=a(390);A.a.TextArea,Q.a.Option;function re(e,t){var a=new FileReader;a.addEventListener("load",(function(){return t(a.result)})),a.readAsDataURL(e)}function le(e){var t="image/jpeg"===e.type||"image/png"===e.type;t||V.a.error("You can only upload JPG/PNG files!");var a=e.size/1024/1024<8;return a||V.a.error("Image must smaller than 8MB!"),t&&a}r.a.Component;var ce=o.a.Content,oe=o.a.Footer,ue=function(){return r.a.createElement(u.a,null,r.a.createElement(o.a,{className:"layout"},r.a.createElement(p,null),r.a.createElement(ce,{style:{padding:"0 3vw"}},r.a.createElement("div",{className:"site-layout-content"},r.a.createElement(s.c,null,r.a.createElement(s.a,{path:"/detroit",render:function(){return r.a.createElement(U,{city:"detroit"})}}),r.a.createElement(s.a,{path:"/chicago",render:function(){return r.a.createElement(U,{city:"chicago"})}}),r.a.createElement(s.a,{path:"/test",render:function(){return r.a.createElement(J,null)}}),r.a.createElement(s.a,{path:"/",render:function(){return r.a.createElement(E,null)}})))),r.a.createElement(oe,{style:{textAlign:"center"}},"Property Tax Appeal Project")))};c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ue,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[208,1,2]]]);
//# sourceMappingURL=main.8938e8e7.chunk.js.map