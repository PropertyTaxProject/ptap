(this.webpackJsonpptap_site=this.webpackJsonpptap_site||[]).push([[0],{215:function(e,t,a){e.exports=a(386)},217:function(e,t,a){},386:function(e,t,a){"use strict";a.r(t);a(216),a(217);var n=a(0),r=a.n(n),l=a(28),o=a.n(l),c=a(387),u=a(70),i=a(36),s=a(88),m=c.a.Header,p=function(){return r.a.createElement(m,null,r.a.createElement(s.a,{theme:"dark",mode:"horizontal"},r.a.createElement(s.a.Item,{key:"1"},r.a.createElement("a",{href:"/"},"Property Tax Appeal Project: Automated Appeal System"))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var d=a(398),f=a(43),E=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Welcome to the Property Tax Appeal Project's automated appeal system."),r.a.createElement("h2",null,"The Tax Foreclosure Crisis"),r.a.createElement("p",null,"Information on the crisis."),r.a.createElement("h2",null,"Why should you appeal?"),r.a.createElement("p",null,"Answer the question."),r.a.createElement(d.b,null,r.a.createElement(f.a,null,r.a.createElement(u.b,{to:"/getstarted"},"Get Started with Your Appeal!"))))},h=a(40),b=a(35),y=a.n(b),g=a(49),v=a(71),w=a(108),j=a.n(w),k=a(182),O=function(){var e=Object(g.a)(y.a.mark((function e(t){var a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.post("/api_v1/submit",t);case 3:return a=e.sent,console.log(a),e.abrupt("return",a.data.response);case 8:return e.prev=8,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(g.a)(y.a.mark((function e(t,a,n){var r,l,o;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=Object(v.a)({target_pin:t,comparables:a},n),console.log(r),l=!0,e.next=6,j.a.post("/api_v1/submit2",r,{responseType:l?"blob":"json"});case 6:o=e.sent,l?Object(k.saveAs)(o.data,"".concat(n.name.split(" ").join("-").toLowerCase(),"-appeal.docx")):console.log(o),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,a,n){return e.apply(this,arguments)}}(),C=a(99),P=a(62),I=a(390),A=a(394),F=a(134),S={labelCol:{span:24},wrapperCol:{xs:{span:24},sm:{span:20},md:{span:18},lg:{span:14}}},_={wrapperCol:{xs:{span:24,offset:0},sm:{span:24,offset:0}}},X=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(C.a,null,r.a.createElement(P.a,{xs:{span:24,offset:0},sm:{span:24,offset:0}},r.a.createElement("h1",null,"Homeowner Information"),r.a.createElement("p",null,"How should we contact you?"),r.a.createElement("br",null))),r.a.createElement(I.a.Item,{name:"name",label:"Full Name",rules:[{required:!0,message:"Please input your full name!",whitespace:!0}]},r.a.createElement(A.a,null)),r.a.createElement(I.a.Item,{name:"email",label:"Email",rules:[{required:!0,message:"Please input your Email!",whitespace:!0,type:"email"}]},r.a.createElement(A.a,null)),r.a.createElement(I.a.Item,{name:"phone",label:"Phone Number",rules:[{required:!0,message:"Please input your phone number!",whitespace:!0}]},r.a.createElement(A.a,null)),r.a.createElement(I.a.Item,{name:"address",label:"Street Address",rules:[{required:!0,message:"Please input your street address!",whitespace:!0}]},r.a.createElement(A.a,null)),r.a.createElement(I.a.Item,{name:"city",label:"City",rules:[{required:!0,message:"Please input your city!",whitespace:!0}]},r.a.createElement(A.a,null)),r.a.createElement(I.a.Item,{name:"state",label:"State",rules:[{required:!0,message:"Please input your State!",whitespace:!0}]},r.a.createElement(A.a,null)),r.a.createElement(I.a.Item,{name:"zip",label:"Zip Code",rules:[{required:!0,message:"Please input your zip code!",whitespace:!0}]},r.a.createElement(A.a,null)),r.a.createElement(I.a.Item,{name:"preferred",label:"Preferred Contact Method:",rules:[{required:!0,message:"Please mark your preferred method!",whitespace:!0}]},r.a.createElement(F.a.Group,null,r.a.createElement(F.a,{value:"Phone"},"Phone"),r.a.createElement(F.a,{value:"Email"},"Email"))))},q=function(e){var t=I.a.useForm(),a=Object(h.a)(t,1)[0],n=e.submitForm,l=e.city,o=e.pin;return r.a.createElement(I.a,Object.assign({form:a,name:"Housing Information",onFinish:function(e){var t;"detroit"===l?t="detroit_single_family":"chicago"===l&&(t="cook_county_single_family");var a=Object(v.a)(Object(v.a)({},e),{},{pin:o,appeal_type:t});console.log("Received values of form: ",a),n(a)},labelAlign:"left",scrollToFirstError:!0,autoComplete:"off"},S),r.a.createElement(C.a,null,r.a.createElement(P.a,{xs:{span:24,offset:0},sm:{span:24,offset:0}},r.a.createElement("h1",null,"Your Information "),r.a.createElement("p",null,"In order to properly file your appeal, we need your contact information and for you to verify information on your property."),r.a.createElement("br",null))),r.a.createElement(I.a.Item,{noStyle:!0},r.a.createElement(X,null)),r.a.createElement(I.a.Item,_,r.a.createElement(d.b,null,r.a.createElement(f.a,{type:"danger",onClick:e.back},"Back"),r.a.createElement(f.a,{type:"primary",htmlType:"submit"},"Submit"))))},Y=a(389),D=a(392),T=a(388),N=Y.a.Column,L=/(\b[a-z](?!\s))/g,R=function(e){return e.replace("_"," ").replace(L,(function(e){return e.toUpperCase()}))},U=function(e){var t=e.comparables,a=e.headers,l=e.submitAppeal,o=e.removeComparable,c=e.back,u=t,i=Object(n.useState)(!1),s=Object(h.a)(i,2),m=s[0],p=s[1],E=a.map((function(e){return r.a.createElement(N,{title:R(e),dataIndex:e,key:e})})).sort(),b=u.map((function(e,t){return Object(v.a)({property:"Comparable ".concat(t)},e)}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(C.a,null,r.a.createElement(P.a,{xs:{span:24,offset:0},sm:{span:24,offset:0}},r.a.createElement("h1",null,"Select relevant comparables"),r.a.createElement("p",null,"Delete comparables you do not wish to include in your appeal."),r.a.createElement("br",null))),r.a.createElement(Y.a,{dataSource:b,loading:m,scroll:{x:!0}},r.a.createElement(N,{title:"Property",dataIndex:"property",key:"property"}),E,r.a.createElement(N,{title:"Action",key:"action",render:function(e,t){return"Your Property"===t.property?null:r.a.createElement(f.a,{danger:!0,onClick:function(){p(!0),o(Number.parseInt(t.property.split(" ")[1],10)).then((function(){p(!1)}))}},"Delete")}})),r.a.createElement(d.b,null,r.a.createElement(f.a,{type:"danger",onClick:c},"Back"),r.a.createElement(f.a,{type:"primary",onClick:l},"Generate Appeal")))},G=function(e){var t=e.targetProperty,a=e.propInfo,n=e.cols,l={width:"".concat(Math.round(100/n),"%"),textAlign:"center"},o=Object.entries(t).filter((function(e){var t=Object(h.a)(e,2),a=t[0],n=t[1];return""!==a&&""!==n}));return o.sort((function(e,t){var a=Object(h.a)(e,1)[0],n=Object(h.a)(t,1)[0],r=a.toLowerCase(),l=n.toLowerCase();return r>l?1:r<l?-1:0})),r.a.createElement(r.a.Fragment,null,r.a.createElement(C.a,null,r.a.createElement(P.a,{xs:{span:24,offset:0},sm:{span:24,offset:0}},r.a.createElement("h1",null,"Your Property"),r.a.createElement("p",null,"Below is the data that we have on file for your property."),r.a.createElement("p",null,a),r.a.createElement("br",null))),o.map((function(e){var t=Object(h.a)(e,2),a=t[0],n=t[1];return r.a.createElement(D.a.Grid,{hoverable:!1,style:l},r.a.createElement(C.a,null,r.a.createElement("b",null,R(a))),r.a.createElement(C.a,null,r.a.createElement("p",null,n)))})))},W=function(e){var t=e.comparables,a=e.headers,n=e.targetProperty,l=e.propInfo,o=e.submitAppeal,c=e.removeComparable,u=e.back;return r.a.createElement(r.a.Fragment,null,r.a.createElement(G,{targetProperty:n,cols:5,propInfo:l}),r.a.createElement(T.a,null),r.a.createElement(U,{comparables:t,headers:a,removeComparable:c,submitAppeal:o,back:u}))},M=a(396),B=!1,z=function(){var e=Object(g.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log(t),B=!0,e.next=5,j.a.post("/api_v1/pin-lookup",t);case 5:return e.abrupt("return",e.sent.data.response.candidates);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",[]);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),H=function(e){var t,a=I.a.useForm(),l=Object(h.a)(a,1)[0],o=Object(n.useState)([]),c=Object(h.a)(o,2),u=c[0],i=c[1],s=e.logPin,m=e.city;"detroit"===m?t="detroit_single_family":"chicago"===m&&(t="cook_county_single_family");var p=[{title:"Address",dataIndex:"Address",key:"Address"},{title:"Pin",dataIndex:"PIN",key:"pin"},{title:"Action",key:"action",render:function(e,t){return r.a.createElement(f.a,{onClick:function(){!function(e){"Yes"!==l.getFieldValue("residence")?alert("You may not be eligible to receive our services. Please contact our hotline at XXX-XXX-XXXX. Code: Residency"):"Yes"!==l.getFieldValue("owner")?alert("You may not be eligible to receive our services. Please contact our hotline at XXX-XXX-XXXX. Code: Ownership"):!1===e.eligibility&&alert("You may not be eligible to receive our services. Please contact our hotline at XXX-XXX-XXXX. Code: Assessed Value"),console.log(e),s(e.PIN)}(t)}},"Select")}}];return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Eligibility Requirements"),r.a.createElement("p",null,"Let's begin by determining if you are eligibile for our services."),r.a.createElement(I.a,{form:l,name:"Pin Lookup",layout:"vertical",onFinish:function(){var e=Object(g.a)(y.a.mark((function e(a){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=i,e.next=3,z(Object(v.a)({appeal_type:t},a));case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),labelAlign:"left",scrollToFirstError:!0,autoComplete:"off"},r.a.createElement(I.a.Item,{name:"residence",rules:[{required:!0,message:"Your response is required."}],label:"First, is this home your primary residence, meaning the place you live most of the year?"},r.a.createElement(F.a.Group,null,r.a.createElement(F.a,{value:"Yes"},"Yes"),r.a.createElement(F.a,{value:"No"},"No"))),r.a.createElement(I.a.Item,{name:"owner",rules:[{required:!0,message:"Your response is required."}],label:"Second, did you inherit or buy this home?"},r.a.createElement(F.a.Group,null,r.a.createElement(F.a,{value:"Yes"},"Yes"),r.a.createElement(F.a,{value:"No"},"No"))),r.a.createElement("p",{style:{width:"350px"}}),r.a.createElement(I.a.Item,{name:"owner_year",rules:[{required:!0,message:"Your response is required."}],label:"Third, what year did you buy or inherit the home? (If you are not sure, it is okay to guess)"},r.a.createElement(M.a,{min:1925,max:2021})),r.a.createElement("p",{style:{width:"350px"}},"Finally, enter your street number and street name and select your property from the table."),r.a.createElement(A.a.Group,{compact:!0},r.a.createElement(I.a.Item,{style:{width:"100px"},name:"st_num",rules:[{required:!0,message:"Street name is required."}]},r.a.createElement(A.a,{type:"number",placeholder:"number"})),r.a.createElement(I.a.Item,{style:{width:"300px"},name:"st_name",rules:[{required:!0,message:"Street name is required."}]},r.a.createElement(A.a,{placeholder:"street"}))),r.a.createElement(f.a,{type:"primary",htmlType:"submit"},"Lookup Pin")),0!==u.length?r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),r.a.createElement(Y.a,{columns:p,dataSource:u})):B?"Your property could not be found.":null)},J=function(){var e=Object(g.a)(y.a.mark((function e(t,a){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.filter((function(e,t){return t!==a})));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),V=function(e){var t=e.city,a=Object(n.useState)([]),l=Object(h.a)(a,2),o=l[0],c=l[1],u=Object(n.useState)([]),i=Object(h.a)(u,2),s=i[0],m=i[1],p=Object(n.useState)(null),d=Object(h.a)(p,2),f=d[0],E=d[1],b=Object(n.useState)({}),v=Object(h.a)(b,2),w=v[0],j=v[1],k=Object(n.useState)(null),C=Object(h.a)(k,2),P=C[0],I=C[1],A=Object(n.useState)([]),F=Object(h.a)(A,2),S=F[0],_=F[1],X=r.a.createElement(H,{logPin:function(e){I(e)},city:t});return null!=P&&(X=r.a.createElement(q,{city:t,pin:P,submitForm:function(){var e=Object(g.a)(y.a.mark((function e(t){var a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O(t);case 2:null!=(a=e.sent)&&(j(t),c(a.comparables),m(a.labeled_headers),E(a.target_pin[0]),_(a.prop_info));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),back:function(){j({}),I(null),c([]),m([]),E(null),_([])}})),null!=f&&(X=r.a.createElement(W,{comparables:o,headers:s,targetProperty:f,propInfo:S,submitAppeal:Object(g.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x(f,o,w);case 1:case"end":return e.stop()}}),e)}))),removeComparable:function(){var e=Object(g.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=c,e.next=3,J(o,t);case 3:e.t1=e.sent,(0,e.t0)(e.t1),console.log("removed ".concat(t));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),back:function(){j({}),c([]),m([]),E(null)}})),X},Z=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Who we Are"),r.a.createElement("p",null,"Who are we? What does this app do?"),r.a.createElement("p",null,"Click the \u201cAgree\u201d button below if you want to appeal your property tax assessment with support from a UMLS homeowner advocate."),r.a.createElement(d.b,null,r.a.createElement(f.a,null,r.a.createElement(u.b,{to:"/selectregion"},"Agree"))))},$=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"We currently have automated appeal systems for Detroit, Michigan and Cook County, Illinois."),r.a.createElement("p",null,"Click one of the buttons to get started with your appeal."),r.a.createElement(d.b,null,r.a.createElement(f.a,null,r.a.createElement(u.b,{to:"/detroit"},"Detroit")),r.a.createElement(f.a,null,r.a.createElement(u.b,{to:"/cook"},"Cook County"))))},K=a(132),Q=a(133),ee=a(138),te=a(135),ae=a(111),ne=a(395),re=a(391),le=a(393),oe=a(399);function ce(e){return new Promise((function(t,a){var n=new FileReader;n.readAsDataURL(e),n.onload=function(){return t(n.result)},n.onerror=function(e){return a(e)}}))}r.a.Component;var ue=a(397),ie=A.a.TextArea,se=ae.a.Option;function me(e,t){var a=new FileReader;a.addEventListener("load",(function(){return t(a.result)})),a.readAsDataURL(e)}function pe(e){var t="image/jpeg"===e.type||"image/png"===e.type;t||ne.b.error("You can only upload JPG/PNG files!");var a=e.size/1024/1024<8;return a||ne.b.error("Image must smaller than 8MB!"),t&&a}var de=function(e){Object(ee.a)(a,e);var t=Object(te.a)(a);function a(){var e;Object(K.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={loading:!1},e.handleChange=function(t){if("uploading"!==t.file.status)"done"===t.file.status&&me(t.file.originFileObj,(function(t){return e.setState({imageUrl:t,loading:!1})}));else{e.setState({loading:!0})}},e}return Object(Q.a)(a,[{key:"render",value:function(){var e=r.a.createElement("div",{style:{width:"330px"}},this.state.loading?r.a.createElement(ue.a,null):r.a.createElement(oe.a,null),r.a.createElement("div",{className:"ant-upload-text"},"Upload")),t=this.state.imageUrl;return r.a.createElement(re.a,{name:"avatar",listType:"picture-card",className:"avatar-uploader",showUploadList:!1,action:"UPLOAD URL",beforeUpload:pe,onChange:this.handleChange},t?r.a.createElement("img",{src:t,alt:"avatar",style:{width:"100%"}}):e)}}]),a}(r.a.Component),fe=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(I.a.Item,{name:"damage_description_".concat(e.id),label:"Damage Description",rules:[{required:!0,message:"Please add a description of your damage.",whitespace:!0}],noStyle:!0},r.a.createElement(ie,{rows:4,placeholder:"Please provide any details regarding the damage."})),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("p",null,"Please upload any images of the damage."),r.a.createElement(I.a.Item,{name:"damage_image_".concat(e.id),label:"Damage Image",rules:[{required:!0,message:"Please input damage information!",whitespace:!0}],noStyle:!0},r.a.createElement(de,null)))},Ee=function(e){var t=e.id;return r.a.createElement(D.a,{title:r.a.createElement(I.a.Item,{name:"damage_type_".concat(t),label:"Damage Type",noStyle:!0,rules:[{required:!0}]},r.a.createElement(ae.a,{style:{width:"350px"},placeholder:"Select a option and change input text above",onChange:function(){console.log(t)}},r.a.createElement(se,{value:"garage"},"Garage Damage"),r.a.createElement(se,{value:"roof"},"Water Damage"),r.a.createElement(se,{value:"water"},"Roof Damage"))),style:{width:"400px"}},r.a.createElement(fe,{id:t}))},he=function(){var e=Object(n.useState)([r.a.createElement(Ee,{id:0,key:0})]),t=Object(h.a)(e,2),a=t[0],l=t[1],o=I.a.useForm(),c=Object(h.a)(o,1)[0];return r.a.createElement(I.a,{form:c,name:"Housing Information",onFinish:function(e){console.log("Received values of form: ","test")},labelAlign:"left",scrollToFirstError:!0,autoComplete:"off"},a,r.a.createElement(d.b,null,r.a.createElement(f.a,{onClick:function(){l(a.concat([r.a.createElement(Ee,{id:a.length,key:a.length})]))}},"Add Damage"),r.a.createElement(f.a,{onClick:function(){l(a.slice(0,Math.max(0,a.length-1)))}},"Remove Damage")))},be=c.a.Content,ye=c.a.Footer,ge=function(){return r.a.createElement(u.a,null,r.a.createElement(c.a,{className:"layout"},r.a.createElement(p,null),r.a.createElement(be,{style:{padding:"0 3vw"}},r.a.createElement("div",{className:"site-layout-content"},r.a.createElement(i.c,null,r.a.createElement(i.a,{path:"/detroit",render:function(){return r.a.createElement(V,{city:"detroit"})}}),r.a.createElement(i.a,{path:"/cook",render:function(){return r.a.createElement(V,{city:"chicago"})}}),r.a.createElement(i.a,{path:"/getstarted",render:function(){return r.a.createElement(Z,null)}}),r.a.createElement(i.a,{path:"/selectregion",render:function(){return r.a.createElement($,null)}}),r.a.createElement(i.a,{path:"/test2",render:function(){return r.a.createElement(he,null)}}),r.a.createElement(i.a,{path:"/",render:function(){return r.a.createElement(E,null)}})))),r.a.createElement(ye,{style:{textAlign:"center"}},"Property Tax Appeal Project")))};o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ge,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[215,1,2]]]);
//# sourceMappingURL=main.785c5553.chunk.js.map